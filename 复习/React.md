# React

## å‚è€ƒé“¾æ¥: https://juejin.cn/post/6941546135827775525

## 1. React äº‹ä»¶æœºåˆ¶

```react
ğŸ˜Š => <div onClick={this.handleClick.bind(this)}>ç‚¹æˆ‘</div>
ğŸˆ => ç»‘å®šçš„ä¸æ˜¯çœŸå®çš„Dom
	  React å¹¶ä¸æ˜¯å°†äº‹ä»¶ç»‘å®šåœ¨ "çœŸå®çš„DOMå…ƒç´ ä¸Š" , è€Œæ˜¯åœ¨ "document ä¸Šç›‘å¬æ‰€æœ‰çš„äº‹ä»¶" , 
      å½“äº‹ä»¶å†’æ³¡åˆ° document å¤„çš„æ—¶å€™ , Reactå°†äº‹ä»¶å†…å®¹å°è£…å¹¶äº¤ç”±çœŸæ­£çš„ äº‹ä»¶å‡½æ•°è¿è¡Œ. è¿™æ ·ä¸ä»…å‡å°‘äº†å†…å­˜çš„æ¶ˆè€—,è¿˜èƒ½åœ¨ç»„ä»¶"æŒ‚è½½é”€æ¯"æ—¶å€™ç»Ÿä¸€è®¢é˜…å’Œåˆ é™¤.
ğŸ§¨ => å†’æ³¡åˆ° document ä¸Šçš„äº‹ä»¶"ä¸æ˜¯åŸç”Ÿçš„æµè§ˆå™¨çš„äº‹ä»¶".è€Œæ˜¯ç”± React è‡ªå·±å®ç°çš„ åˆæˆäº‹ä»¶(SyntheticEvent)

ğŸ˜œ => å®ç°åˆæˆäº‹ä»¶çš„ç›®çš„å¦‚ä¸‹:
		1. æŠ¹å¹³äº†æµè§ˆå™¨ä¹‹é—´çš„å…¼å®¹é—®é¢˜ å¦å¤–è¿™æ˜¯ä¸€ä¸ªè·¨æµè§ˆå™¨çš„åŸç”Ÿäº‹ä»¶åŒ…è£…å™¨ èµ‹äºˆäº†è·¨æµè§ˆå™¨çš„èƒ½åŠ›.
		2. å¯¹äºæµè§ˆå™¨çš„åŸç”Ÿäº‹ä»¶ æµè§ˆå™¨ä¼šç»™ç›‘å¬å™¨åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ å¦‚æœæœ‰å¾ˆå¤šäº‹ä»¶ç›‘å¬ é‚£ä¹ˆå°±ä¼šåˆ†é…å¾ˆå¤š"äº‹ä»¶å¯¹è±¡" "é€ æˆé«˜é¢çš„å†…å­˜åˆ†é…é—®é¢˜".
		   ä½†æ˜¯å¯¹äºåˆæˆäº‹ä»¶æ¥è¯´ æœ‰ä¸€ä¸ªäº‹ä»¶æ± ä¸“é—¨ç®¡ç†åˆ›å»ºå’Œé”€æ¯ äº‹ä»¶ä½¿ç”¨æ—¶ å°±ä¼šä»"æ± å­"ä¸­å¤ç”¨ äº‹ä»¶å›è°ƒç»“æŸå å°±ä¼š"é”€æ¯å¯¹è±¡ä¸Šçš„å±æ€§" ä¾¿äºä¸‹æ¬¡å¤ç”¨äº‹ä»¶å¯¹è±¡ 
```

## 2. React é˜»æ­¢äº‹ä»¶å†’æ³¡ä¸‰ç§æƒ…å†µ

```react
1. é˜»æ­¢ åˆæˆäº‹ä»¶ä¹‹é—´çš„å†’æ³¡
	å­å…ƒç´ ä¸­è°ƒç”¨ e.stopPropagation() å³å¯ (å¯é˜»æ­¢ä¸åˆæˆäº‹ä»¶çš„å†’æ³¡ åŒæ—¶å­å…ƒç´ ä¹Ÿé˜»æ­¢ä¸åŸç”Ÿäº‹ä»¶çš„å†’æ³¡)
    â¤ => 
    	const appClick = (e) => {
            console.log('çˆ¶äº‹ä»¶');
        };
        const sonClick = (e) => {
            console.log('å­äº‹ä»¶');
            e.stopPropagation();
        };
2. é˜»æ­¢ åˆæˆäº‹ä»¶ ä¸ åŸç”Ÿäº‹ä»¶ä¹‹é—´çš„å†’æ³¡
	å­å…ƒç´ è°ƒç”¨ e.nativeEvent.stopImmediatePropagation(); => nativeEventä¸ºåŸç”Ÿäº‹ä»¶çš„å±æ€§
    ğŸ‘Œ => 
    	onst appClick = (e) => {
            console.log('çˆ¶äº‹ä»¶');
        };
        const sonClick = (e) => {
            console.log('å­äº‹ä»¶');
            e.nativeEvent.stopImmediatePropagation();
        };
3. é˜»æ­¢ "åˆæˆäº‹ä»¶ ä¸ é™¤æœ€å¤–å±‚documentä¸Šçš„åŸç”Ÿäº‹ä»¶" ä¸Šçš„å†’æ³¡ï¼Œé€šè¿‡åˆ¤æ–­e.targetæ¥é¿å…
	é™¤äº†æœ€å¤–å±‚ document (documentä¸ºæ•´ä¸ªhtmlæ–‡æ¡£) å¯ä»¥é€šè¿‡ e.target å¯¹è±¡å…ƒç´ çš„æ¯”è¾ƒ è¿›è¡Œåˆ¤æ–­æ˜¯å¦å†’æ³¡.
```

## 3. React çš„äº‹ä»¶å’Œæ™®é€šçš„HTMLäº‹ä»¶æœ‰ä»€ä¹ˆä¸åŒ?

```react
ğŸ™Œ => åŒºåˆ«:
		1. å¯¹äºäº‹ä»¶çš„åç§°çš„å‘½åæ–¹å¼,åŸç”Ÿ"å…¨å°å†™",react é‡‡ç”¨ "å°é©¼å³°å¼"å‘½å;
		2. å¯¹äºäº‹ä»¶å‡½æ•°å¤„ç†è¯­æ³•,åŸç”Ÿäº‹ä»¶ä¸º "å­—ç¬¦ä¸²",react äº‹ä»¶ä¸ºå‡½æ•°;
		3. react ä¸èƒ½é‡‡ç”¨ return false çš„æ–¹å¼é˜»æ­¢é»˜è®¤äº‹ä»¶ è€Œå¿…é¡»æ˜ç¡®è°ƒç”¨ preventDefault() æ¥é˜»æ­¢é»˜è®¤è¡Œä¸º.
ğŸ¤·â€ => åˆæˆäº‹ä»¶æ˜¯ react æ¨¡æ‹ŸåŸç”Ÿ Dom äº‹ä»¶æ‰€æœ‰èƒ½åŠ›çš„ä¸€ä¸ªäº‹ä»¶å¯¹è±¡, å…¶ä¼˜ç‚¹å¦‚ä¸‹:
		1. å…¼å®¹æ‰€æœ‰æµè§ˆå™¨ æ›´å¥½çš„è·¨å¹³å°
		2. å°†äº‹ä»¶ç»Ÿä¸€å­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ï¼Œé¿å…é¢‘ç¹çš„æ–°å¢ä¸åˆ é™¤ï¼ˆåƒåœ¾å›æ”¶ï¼‰        
		3. æ–¹ä¾¿ react ç»Ÿä¸€ç®¡ç†å’Œäº‹ç‰©æœºåˆ¶
âœ”âœ”âœ” => äº‹ä»¶çš„æ‰§è¡Œé¡ºåºæ˜¯å…ˆæ‰§è¡Œ"åŸç”Ÿäº‹ä»¶"åæ‰§è¡Œ"åˆæˆäº‹ä»¶" (æœ¬äººå·²ç»éªŒè¯!!) åˆæˆäº‹ä»¶è¦ç»‘å®šåˆ° document ä¸Š 
         => å¦‚æœåœ¨åŸç”Ÿäº‹ä»¶ä¸Šé˜»æ­¢å†’æ³¡ åˆ™å¯èƒ½åˆæˆäº‹ä»¶æ— æ³•æ‰§è¡Œ æ‰€ä»¥å°½é‡é¿å…åŸç”Ÿäº‹ä»¶å’Œåˆæˆäº‹ä»¶æ··ç”¨.
```

## 4. Reactç»„ä»¶ä¸­æ€ä¹ˆåšäº‹ä»¶ä»£ç†?å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆ?

```js
ğŸ¶ => React åŸºäº virtual Dom å®ç°äº† SyntheticEvent(åˆæˆäº‹ä»¶) å®šä¹‰çš„äº‹ä»¶å¤„ç†å™¨ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªåˆæˆäº‹ä»¶å¯¹è±¡çš„"å®ä¾‹" 
      ä¸”ä¸åŸç”Ÿçš„æµè§ˆå™¨äº‹ä»¶æ‹¥æœ‰ç›¸åŒçš„æ¥å£ æ”¯æŒ"å†’æ³¡æœºåˆ¶" æ‰€æœ‰äº‹ä»¶è‡ªåŠ¨ç»‘å®šåˆ°æœ€å¤–å±‚.
ğŸ¤¦â€â™€ï¸ => åœ¨Reactåº•å±‚ä¸­ ä¸»è¦å¯¹åˆæˆäº‹ä»¶åšäº†ä¸¤ä»¶äº‹:
		1. äº‹ä»¶å§”æ´¾:
			React ä¼šæŠŠæ‰€æœ‰çš„äº‹ä»¶ç»‘å®šåœ¨æœ€å¤–å±‚ ä½¿ç”¨ç»Ÿä¸€çš„ç›‘å¬å™¨ è¿™ä¸ªäº‹ä»¶ç›‘å¬å™¨ä¸Šç»´æŒäº†"ä¸€ä¸ªæ˜ å°„"æ¥ä¿å­˜æ‰€æœ‰ç»„ä»¶å†…éƒ¨äº‹ä»¶ç›‘å¬å’Œå¤„ç†å‡½æ•°ã€‚
		2. è‡ªåŠ¨ç»‘å®š:
			React ç»„ä»¶ä¸­ æ¯ä¸ªæ–¹æ³•çš„ä¸Šä¸‹æ–‡éƒ½ä¼šæŒ‡å‘è¯¥ç»„ä»¶çš„å®ä¾‹ å³è‡ªåŠ¨ç»‘å®šthisä¸ºå½“å‰ç»„ä»¶.
```

## 5. React é«˜é˜¶ç»„ä»¶   Render props   hooks æœ‰ä»€ä¹ˆåŒºåˆ« , ä¸ºä»€ä¹ˆè¦ä¸æ–­è¿­ä»£?

```react
ğŸ±â€ğŸ => è¿™ä¸‰è€…æ˜¯ç›®å‰ React è§£å†³ä»£ç å¤ç”¨çš„ä¸»è¦æ–¹å¼:
	1. é«˜é˜¶ç»„ä»¶(HOC) æ˜¯ Reactä¸­ç”¨äºå¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€å·§. HOCè‡ªèº«ä¸æ˜¯React APIçš„ä¸€éƒ¨åˆ† 
	   ä»–æ˜¯ä¸€ç§åŸºäº React çš„ç»„åˆç‰¹æ€§è€Œå½¢æˆçš„ "è®¾è®¡æ¨¡å¼". å…·ä½“è€Œè¨€, é«˜é˜¶ç»„ä»¶æ˜¯ å‚æ•°ä¸º"ç»„ä»¶",è¿”å›å€¼ä¸º "æ–°ç»„ä»¶"çš„å‡½æ•°.
       ğŸ˜ => 
       		// hocçš„å®šä¹‰
            function withSubscription(WrappedComponent, selectData) {
              return class extends React.Component {
                constructor(props) {
                  super(props);
                  this.state = {
                    data: selectData(DataSource, props)
                  };
                }
                // ä¸€äº›é€šç”¨çš„é€»è¾‘å¤„ç†
                render() {
                  // ... å¹¶ä½¿ç”¨æ–°æ•°æ®æ¸²æŸ“è¢«åŒ…è£…çš„ç»„ä»¶!
                  return <WrappedComponent data={this.state.data} {...this.props} />;
                }
              };

            // ä½¿ç”¨
            const BlogPostWithSubscription = withSubscription(BlogPost,
              (DataSource, props) => DataSource.getBlogPost(props.id));
		HOCä¼˜ç¼ºç‚¹:
           	ä¼˜ç‚¹: é€»è¾‘å¤ç”¨ ä¸å½±å“è¢«åŒ…è£¹ç»„ä»¶ å†…éƒ¨çš„é€»è¾‘.
            ç¼ºç‚¹: propså¯èƒ½å‘½åå†²çªå¯¼è‡´è¢«è¦†ç›– 
            	 ä¸æ¸…æ¥šå±æ€§çš„æ¥æº
	2. Render props => "render prop" æ˜¯ä¸€ç§åœ¨ React ç»„ä»¶ä¹‹é—´ä½¿ç”¨ ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„ prop å…±äº«ä»£ç çš„ç®€å•æŠ€æœ¯.
    		  å…·æœ‰render propçš„ç»„ä»¶æ¥æ”¶ä¸€ä¸ªè¿”å›Reactå…ƒç´ çš„å‡½æ•° å°† render çš„æ¸²æŸ“é€»è¾‘æ³¨å…¥åˆ°ç»„ä»¶å†…éƒ¨.
               "render"çš„å‘½åå¯ä»¥æ˜¯ä»»ä½•å…¶ä»–çš„æœ‰æ•ˆçš„æ ‡è¯†ç¬¦
               âœŒ => ä¸ªäººç†è§£ render prop å°†æ¸²æŸ“ä»»åŠ¡äº¤ç»™äº† "è°ƒç”¨æ–¹". "å®šä¹‰æ–¹"ä¸ºè°ƒç”¨æ–¹é€šè¿‡ä¼ å‚çš„æ–¹å¼æä¾›æ•°æ®
               		è°ƒç”¨æ–¹ä»¥å‡½æ•°çš„å‚æ•°å½¢å¼æ¥æ”¶å‚æ•°å¹¶å®Œæˆæ¸²æŸ“ä»»åŠ¡ => è¿›è€Œé€šè¿‡å®šä¹‰æ–¹å†…éƒ¨å±•ç¤º
               -----------------------------------------------------------------------------------
               // DataProviderç»„ä»¶å†…éƒ¨çš„æ¸²æŸ“é€»è¾‘å¦‚ä¸‹
                class DataProvider extends React.Components {
                     state = {
                    	name: 'Tom'
                  	}

                    render() {
                    return (
                        <div>
                          <p>å…±äº«æ•°æ®ç»„ä»¶è‡ªå·±å†…éƒ¨çš„æ¸²æŸ“é€»è¾‘</p>
                          { this.props.render(this.state) }
                      </div>
                    );
                  }
                }

                // è°ƒç”¨æ–¹å¼
                <DataProvider render={data => (
                  <h1>Hello {data.name}</h1>
                )}/>
			   -----------------------------------------------------------------------------------
               ğŸ¤ => ä¼˜ç¼ºç‚¹:
               			ä¼˜ç‚¹: æ•°æ®å…±äº« ä»£ç å¤ç”¨ å°†ç»„ä»¶å†…çš„stateä½œä¸ºpropsä¼ é€’ç»™è°ƒç”¨è€… å°†æ¸²æŸ“é€»è¾‘äº¤ç»™è°ƒç”¨è€….
                         ç¼ºç‚¹: æ— æ³•åœ¨ return è¯­å¥å¤–è®¿é—®æ•°æ® åµŒå¥—å†™æ³•ä¸å¤Ÿä¼˜é›….
	3. Hooks => hookåªèƒ½åœ¨ç»„ä»¶é¡¶å±‚ä½¿ç”¨ï¼Œä¸å¯åœ¨åˆ†æ”¯è¯­å¥ä¸­ä½¿ç”¨    	
    		    å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚é€šè¿‡è‡ªå®šä¹‰hookï¼Œå¯ä»¥å¤ç”¨ä»£ç é€»è¾‘ã€‚
                ğŸ˜ => 
                		// è‡ªå®šä¹‰ä¸€ä¸ªè·å–è®¢é˜…æ•°æ®çš„hook
                        function useSubscription() {
                          const data = DataSource.getComments();
                          return [data];
                        }
                        // 
                        function CommentList(props) {
                          const {data} = props;
                          const [subData] = useSubscription();
                            ...
                        }
                        // ä½¿ç”¨
                        <CommentList data='hello' />
				ğŸ‚ =>  ä¼˜ç¼ºç‚¹:
                            1. ä½¿ç”¨ç›´è§‚ï¼›
                            2. è§£å†³hocçš„prop é‡åé—®é¢˜ï¼›
                            3. è§£å†³render props å› å…±äº«æ•°æ® è€Œå‡ºç°åµŒå¥—åœ°ç‹±çš„é—®é¢˜ï¼›
                            4. èƒ½åœ¨returnä¹‹å¤–ä½¿ç”¨æ•°æ®çš„é—®é¢˜ã€‚
```

## 6. å¯¹ React-fiber çš„ç†è§£, å®ƒè§£å†³çš„ä»€ä¹ˆé—®é¢˜?

> â€‹		React V15 åœ¨æ¸²æŸ“æ—¶ï¼Œä¼šé€’å½’æ¯”å¯¹ VirtualDOM æ ‘ï¼Œæ‰¾å‡ºéœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼Œç„¶ååŒæ­¥æ›´æ–°å®ƒä»¬ï¼Œ ä¸€æ°”å‘µæˆã€‚è¿™ä¸ªè¿‡ç¨‹æœŸé—´ï¼Œ React ä¼šå æ®æµè§ˆå™¨èµ„æºï¼Œè¿™ä¼šå¯¼è‡´ç”¨æˆ·è§¦å‘çš„äº‹ä»¶å¾—ä¸åˆ°å“åº”ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´æ‰å¸§ï¼Œå¯¼è‡´ç”¨æˆ·æ„Ÿè§‰åˆ°å¡é¡¿ã€‚
> â€‹		ä¸ºäº†ç»™ç”¨æˆ·åˆ¶é€ ä¸€ç§åº”ç”¨å¾ˆå¿«çš„â€œå‡è±¡â€ï¼Œä¸èƒ½è®©ä¸€ä¸ªä»»åŠ¡é•¿æœŸéœ¸å ç€èµ„æºã€‚ å¯ä»¥å°†æµè§ˆå™¨çš„æ¸²æŸ“ã€å¸ƒå±€ã€ç»˜åˆ¶ã€èµ„æºåŠ è½½(ä¾‹å¦‚ HTML è§£æ)ã€äº‹ä»¶å“åº”ã€è„šæœ¬æ‰§è¡Œè§†ä½œæ“ä½œç³»ç»Ÿçš„â€œè¿›ç¨‹â€ï¼Œéœ€è¦é€šè¿‡æŸäº›è°ƒåº¦ç­–ç•¥åˆç†åœ°åˆ†é… CPU èµ„æºï¼Œä»è€Œæé«˜æµè§ˆå™¨çš„ç”¨æˆ·å“åº”é€Ÿç‡, åŒæ—¶å…¼é¡¾ä»»åŠ¡æ‰§è¡Œæ•ˆç‡ã€‚
> æ‰€ä»¥ React é€šè¿‡Fiber æ¶æ„ï¼Œè®©è¿™ä¸ªæ‰§è¡Œè¿‡ç¨‹å˜æˆå¯è¢«ä¸­æ–­ã€‚â€œé€‚æ—¶â€åœ°è®©å‡º CPU æ‰§è¡Œæƒï¼Œé™¤äº†å¯ä»¥è®©æµè§ˆå™¨åŠæ—¶åœ°å“åº”ç”¨æˆ·çš„äº¤äº’ï¼Œè¿˜æœ‰å…¶ä»–å¥½å¤„:
>
> â€‹		åˆ†æ‰¹å»¶æ—¶å¯¹DOMè¿›è¡Œæ“ä½œï¼Œé¿å…ä¸€æ¬¡æ€§æ“ä½œå¤§é‡ DOM èŠ‚ç‚¹ï¼Œå¯ä»¥å¾—åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼›
> â€‹		ç»™æµè§ˆå™¨ä¸€ç‚¹å–˜æ¯çš„æœºä¼šï¼Œå®ƒä¼šå¯¹ä»£ç è¿›è¡Œç¼–è¯‘ä¼˜åŒ–ï¼ˆJITï¼‰åŠè¿›è¡Œçƒ­ä»£ç ä¼˜åŒ–ï¼Œæˆ–è€…å¯¹ reflow è¿›è¡Œä¿®æ­£ã€‚
>
> æ ¸å¿ƒæ€æƒ³: Fiber ä¹Ÿç§°åç¨‹æˆ–è€…çº¤ç¨‹ã€‚å®ƒå’Œçº¿ç¨‹å¹¶ä¸ä¸€æ ·ï¼Œåç¨‹æœ¬èº«æ˜¯æ²¡æœ‰å¹¶å‘æˆ–è€…å¹¶è¡Œèƒ½åŠ›çš„ï¼ˆéœ€è¦é…åˆçº¿ç¨‹ï¼‰ï¼Œå®ƒåªæ˜¯ä¸€ç§æ§åˆ¶æµç¨‹çš„è®©å‡ºæœºåˆ¶ã€‚è®©å‡º CPU çš„æ‰§è¡Œæƒï¼Œè®© CPU èƒ½åœ¨è¿™æ®µæ—¶é—´æ‰§è¡Œå…¶ä»–çš„æ“ä½œã€‚æ¸²æŸ“çš„è¿‡ç¨‹å¯ä»¥è¢«ä¸­æ–­ï¼Œå¯ä»¥å°†æ§åˆ¶æƒäº¤å›æµè§ˆå™¨ï¼Œè®©ä½ç»™é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œæµè§ˆå™¨ç©ºé—²åå†æ¢å¤æ¸²æŸ“ã€‚

## 7. å“ªäº›æ–¹æ³•ä¼šè§¦å‘ React é‡æ–°æ¸²æŸ“? é‡æ–°æ¸²æŸ“ Render ä¼šåšäº›ä»€ä¹ˆ ?

```react
(1) å“ªäº›æ–¹æ³•è§¦å‘ React é‡æ–°æ¸²æŸ“?
	1. setState() æ–¹æ³•çš„è°ƒç”¨
    	é€šå¸¸æƒ…å†µä¸‹ æ‰§è¡Œ setState ä¼šè§¦å‘ render. ğŸˆ ä½†æ˜¯å½“ setState ä¼ å…¥ null æ—¶ å¹¶ä¸ä¼šè§¦å‘ render.(æœ¬äººäº²è‡ªéªŒè¯è¿‡)
	2. çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“.
    	åªè¦çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ å³ä½¿ä¼ å…¥å­ç»„ä»¶çš„ props æœªå‘ç”Ÿå˜åŒ– é‚£ä¹ˆå­ç»„ä»¶ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ è¿›è€Œè§¦å‘ render.
(2) é‡æ–°æ¸²æŸ“ render ä¼šåšäº›ä»€ä¹ˆ?
	1. ä¼šå¯¹æ–°æ—§ VNode è¿›è¡Œå¯¹æ¯” , ä¹Ÿå°±æ˜¯ diff ç®—æ³•.
	2. å¯¹æ–°æ—§ä¸¤æ£µæ ‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå† è¿™æ ·æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæ ‡è®° åœ¨åˆ°æ·±åº¦éå†çš„æ—¶å€™ æ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±ä¼šæŠŠè¯¥èŠ‚ç‚¹å’Œæ–°çš„èŠ‚ç‚¹æ ‘è¿›è¡Œå¯¹æ¯” 
	   => å¦‚æœæœ‰å·®å¼‚å°±æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢
	3. éå†å·®å¼‚å¯¹è±¡ æ ¹æ®å·®å¼‚çš„ç±»å‹ æ ¹æ®å¯¹åº”è§„åˆ™æ›´æ–° VNode.        
```

> â€‹	React çš„å¤„ç† render çš„åŸºæœ¬æ€ç»´æ¨¡å¼æ˜¯æ¯æ¬¡ä¸€æœ‰å˜åŠ¨å°±ä¼šå»é‡æ–°æ¸²æŸ“æ•´ä¸ªåº”ç”¨ã€‚åœ¨ Virtual DOM æ²¡æœ‰å‡ºç°ä¹‹å‰ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ç›´æ¥è°ƒç”¨ 	innerHTMLã€‚
>
> â€‹	Virtual DOMå‰å®³çš„åœ°æ–¹å¹¶ä¸æ˜¯è¯´å®ƒæ¯”ç›´æ¥æ“ä½œ DOM å¿«ï¼Œè€Œæ˜¯è¯´ä¸ç®¡æ•°æ®æ€ä¹ˆå˜ï¼Œéƒ½ä¼šå°½é‡ä»¥æœ€å°çš„ä»£ä»·å»æ›´æ–° DOMã€‚React å°† render å‡½æ•°è¿”å›çš„è™šæ‹Ÿ DOM æ ‘ä¸è€çš„è¿›è¡Œæ¯”è¾ƒï¼Œä»è€Œç¡®å®š DOM è¦ä¸è¦æ›´æ–°ã€æ€ä¹ˆæ›´æ–°ã€‚å½“ DOM æ ‘å¾ˆå¤§æ—¶ï¼Œéå†ä¸¤æ£µæ ‘è¿›è¡Œå„ç§æ¯”å¯¹è¿˜æ˜¯ç›¸å½“è€—æ€§èƒ½çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨é¡¶å±‚ setState ä¸€ä¸ªå¾®å°çš„ä¿®æ”¹ï¼Œé»˜è®¤ä¼šå»éå†æ•´æ£µæ ‘ã€‚å°½ç®¡ React ä½¿ç”¨é«˜åº¦ä¼˜åŒ–çš„ Diff ç®—æ³•ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä»ç„¶ä¼šæŸè€—æ€§èƒ½.

## 8. React å£°æ˜ç»„ä»¶æœ‰å“ªå‡ ç§çš„æ–¹æ³•, æœ‰ä»€ä¹ˆä¸åŒ?

```react
ğŸƒ => React å£°æ˜ç»„ä»¶æœ‰ä¸‰ç§æ–¹å¼:
		1. å‡½æ•°å¼å®šä¹‰ æ— çŠ¶æ€ç»„ä»¶
		2. ES5 åŸç”Ÿæ–¹å¼ React.createClass å®šä¹‰ç»„ä»¶
		3. ES6 å½¢å¼çš„ extends React.Component å®šä¹‰ç»„ä»¶       
ğŸ€ => åŒºåˆ«
		1. æ— çŠ¶æ€ç»„ä»¶ç›¸å¯¹äºåä¸¤è€…çš„åŒºåˆ«:
			ä¸æ— çŠ¶æ€ç»„ä»¶ç›¸æ¯”ï¼ŒReact.createClasså’ŒReact.Componentéƒ½æ˜¯"åˆ›å»ºæœ‰çŠ¶æ€çš„ç»„ä»¶"ï¼Œè¿™äº›ç»„ä»¶æ˜¯è¦"è¢«å®ä¾‹åŒ–çš„"ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®ç»„ä»¶çš„"ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"ã€‚
		2. React.createClass å’Œ React.Component çš„åŒºåˆ«
        	2.1 å‡½æ•° this è‡ªç»‘å®š
            	    => React.createClass åˆ›å»ºçš„ç»„ä»¶ å…¶æ¯ä¸ªæˆå‘˜å‡½æ•°çš„ this éƒ½æœ‰ Reactå®ä¾‹ç»‘å®š => å‡½æ•°ä¸­çš„ this ä¼šè¢«æ­£ç¡®é…ç½®.(å·²è¢«åºŸå¼ƒ)
				   => React.Component åˆ›å»ºçš„ç»„ä»¶ å…¶æˆå‘˜å‡½æ•°ä¸ä¼šè‡ªåŠ¨ç»‘å®š this ï¼Œéœ€è¦å¼€å‘è€…æ‰‹åŠ¨ç»‘å®šï¼Œå¦åˆ™ this ä¸èƒ½è·å–å½“å‰ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ 
		    2.2 ğŸ‘“ ç»„ä»¶å±æ€§ç±»å‹ propTypes åŠå…¶é»˜è®¤propså±æ€§ defaultProps é…ç½®ä¸åŒ
            		=> React.createClassåœ¨åˆ›å»ºç»„ä»¶æ—¶ï¼Œæœ‰å…³ç»„ä»¶propsçš„å±æ€§ç±»å‹åŠç»„ä»¶é»˜è®¤çš„å±æ€§ä¼šä½œä¸ºç»„ä»¶å®ä¾‹çš„å±æ€§æ¥é…ç½®ï¼Œå…¶ä¸­defaultPropsæ˜¯ä½¿ç”¨					  getDefaultPropsçš„æ–¹æ³•æ¥è·å–é»˜è®¤ç»„ä»¶å±æ€§çš„
				   => React.Componentåœ¨åˆ›å»ºç»„ä»¶æ—¶é…ç½®è¿™ä¸¤ä¸ªå¯¹åº”ä¿¡æ¯æ—¶ï¼Œä»–ä»¬æ˜¯ä½œä¸ºç»„ä»¶ç±»çš„å±æ€§ï¼Œä¸æ˜¯ç»„ä»¶å®ä¾‹çš„å±æ€§ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ç±»çš„é™æ€å±æ€§æ¥é…ç½®çš„ã€‚
		    2.3 ç»„ä»¶åˆå§‹çŠ¶æ€stateçš„é…ç½®ä¸åŒ
            		=> React.createClassåˆ›å»ºçš„ç»„ä»¶ï¼Œå…¶çŠ¶æ€stateæ˜¯é€šè¿‡ "getInitialState" æ–¹æ³•æ¥é…ç½®ç»„ä»¶ç›¸å…³çš„çŠ¶æ€ï¼›
                     => React.Componentåˆ›å»ºçš„ç»„ä»¶ï¼Œå…¶çŠ¶æ€ state æ˜¯åœ¨ "constructor" ä¸­åƒåˆå§‹åŒ–ç»„ä»¶å±æ€§ä¸€æ ·å£°æ˜çš„ã€‚

```

## 9. å¯¹ React ä¸­ Fragment çš„ç†è§£, å®ƒçš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ?

```react
ğŸ„ => åœ¨ React ä¸­ , ç»„ä»¶è¿”å›çš„å…ƒç´ åªèƒ½ "æœ‰ä¸€ä¸ªæ ¹å…ƒç´ " , ä¸ºäº†ä¸æ·»åŠ å¤šä½™çš„ DOM èŠ‚ç‚¹, å¯ä»¥ä½¿ç”¨ Fragment æ ‡ç­¾æ¥åŒ…è£¹å¤šä¸ªå…ƒç´ , Fragmentä¸ä¼šæ¸²æŸ“ä»»ä½•å…ƒç´ .
import React, { Component, Fragment } from 'react'
æ¡ˆä¾‹ğŸˆ =>
    // ä¸€èˆ¬å½¢å¼
    render() {
      return (
        <React.Fragment>
          <ChildA />
          <ChildB />
          <ChildC />
        </React.Fragment>
      );
    }
    // ä¹Ÿå¯ä»¥å†™æˆä»¥ä¸‹å½¢å¼
    render() {
      return (
        <>
          <ChildA />
          <ChildB />
          <ChildC />
        </>
      );
    }
```

## 10. React å¦‚ä½•è·å–ç»„ä»¶ å¯¹åº”çš„ DOM å…ƒç´ ?

```react
ğŸ¨ => å¯ä»¥ç”¨refæ¥è·å–æŸä¸ªå­èŠ‚ç‚¹çš„å®ä¾‹
		1. å­—ç¬¦ä¸²æ ¼å¼(å­˜åœ¨ä¸€äº›é—®é¢˜ å¯èƒ½ä¼šåœ¨æœªæ¥çš„ç‰ˆæœ¬è¢«ç§»é™¤)
        	<p ref="info">span</p>
			=> é—®é¢˜:
				å®ƒè¦æ±‚ React è·Ÿè¸ªå½“å‰å‘ˆç°çš„ç»„ä»¶ï¼ˆå› ä¸ºå®ƒæ— æ³•çŒœæµ‹thisï¼‰ã€‚è¿™ä½¿å¾— React æœ‰ç‚¹æ…¢ã€‚
		2. å‡½æ•°æ ¼å¼
        	<p ref={ele => this.info = ele}></p>
		3. createRefæ–¹æ³•ï¼šReact 16 æä¾›çš„ä¸€ä¸ªAPIï¼Œä½¿ç”¨React.createRef()æ¥å®ç° ã€€ã€€
```

## 11. Reactä¸­å¯ä»¥åœ¨ render ä¸­è®¿é—® refs å—? ä¸ºä»€ä¹ˆ?

```react
ğŸˆ => ä¸å¯ä»¥ï¼Œrender é˜¶æ®µ DOM è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œæ— æ³•è·å– DOM. "Renderä¹‹åæ‰å¯ä»¥è®¿é—®".
<>
  <span id="name" ref={this.spanRef}>{this.state.title}</span>
  <span>{
     this.spanRef.current ? 'æœ‰å€¼' : 'æ— å€¼'
  }</span>
</>
```

## 12. React ç”Ÿå‘½å‘¨æœŸå‡½æ•°(https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)

```react
ğŸˆ React é€šå¸¸å°†ç»„ä»¶ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ:
    1. è£…è½½é˜¶æ®µ(Mount), ç»„ä»¶ç¬¬ä¸€æ¬¡åœ¨ DOM æ ‘ä¸­è¢«æ¸²æŸ“çš„è¿‡ç¨‹;
    	æŒ‚è½½é˜¶æ®µç»„ä»¶è¢«åˆ›å»º, ç„¶åç»„ä»¶å®ä¾‹æ’å…¥åˆ°DOMä¸­,å®Œæˆä¸€æ¬¡ç»„ä»¶æ¸²æŸ“,è¯¥è¿‡ç¨‹"åªå‘ç”Ÿä¸€æ¬¡",ä¾æ¬¡è°ƒç”¨ä¸€ä¸‹æ–¹æ³•:
            constructor
                ğŸš— => åˆå§‹åŒ–ç»„ä»¶çš„ state
                ğŸš— => ç»™äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®š this
                ğŸŒ° =>
                constructor(props) {
                    super(props);
                    // ä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨ setStateï¼Œå¯ä»¥ç›´æ¥ç»™ state è®¾ç½®åˆå§‹å€¼
                    this.state = { counter: 0 }
                    this.handleClick = this.handleClick.bind(this)
                }			   
            getDrivedStateFromProps
                è¿™æ˜¯ä¸€ä¸ª"é™æ€æ–¹æ³•", æ‰€ä»¥ä¸èƒ½åœ¨è¿™ä¸ªå‡½æ•°ä¸­ä½¿ç”¨ this, æœ‰ä¸¤ä¸ªå‚æ•° props å’Œ state,åˆ†åˆ«æŒ‡æ¥æ”¶åˆ°çš„æ–°å‚æ•°å’Œå½“å‰ç»„ä»¶stateå¯¹è±¡.
                è¿™ä¸ªå‡½æ•°ä¼š"è¿”å›ä¸€ä¸ªå¯¹è±¡"ç”¨æ¥æ›´æ–°å½“å‰çš„ "state å¯¹è±¡"ï¼Œå¦‚æœä¸éœ€è¦æ›´æ–°å¯ä»¥è¿”å› null ã€‚
            render
                è¿™ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹,å°±æ˜¯è¿”å›éœ€è¦æ¸²æŸ“çš„å†…å®¹,æ‰€ä»¥ä¸è¦åœ¨è¿™ä¸ªå‡½æ•°åšå…¶ä»–ä¸šåŠ¡é€»è¾‘.
                å…¶è¿”å›ç±»å‹ä¸º:
                    1.Reactå…ƒç´ 
                    2.æ•°ç»„å’ŒFragment(ç‰‡æ®µ): è¿”å›å¤šä¸ªå…ƒç´ 
                    3.Portals(æ’æ§½): å¯ä»¥å°†å­å…ƒç´ æ¸²æŸ“åˆ°ä¸åŒçš„ DOM å­æ ‘ä¸­.
                    4.å­—ç¬¦ä¸²å’Œæ•°å­—: è¢«æ¸²æŸ“åˆ°Domæ–‡æœ¬ä¸­
                    5.å¸ƒå°”å€¼æˆ–null: ä¸æ¸²æŸ“ä»»ä½•å†…å®¹
            componentDidMount
            	ä¼šåœ¨ç»„ä»¶æŒ‚è½½å(æ’å…¥DOMæ ‘ä¸­)ç«‹å³è°ƒç”¨ => é€šå¸¸è¿›è¡Œä»¥ä¸‹æ“ä½œ:(å°½é‡ä¸è¦å†æ­¤å¤„ è°ƒç”¨ setState)
                    1.æ‰§è¡Œä¾èµ–äºDOMçš„æ“ä½œ
                    2.å‘é€ç½‘ç»œè¯·æ±‚(å®˜æ–¹å»ºè®®)
    			   3.æ·»åŠ è®¢é˜…æ¶ˆæ¯(ä¼šåœ¨componentWillUnmountå–æ¶ˆè®¢é˜…)
    2. æ›´æ–°è¿‡ç¨‹(Update),ç»„ä»¶çŠ¶æ€å‘ç”Ÿå˜åŒ–,é‡æ–°æ›´æ–°æ¸²æŸ“çš„è¿‡ç¨‹;
    3. å¸è½½è¿‡ç¨‹(Unmount),ç»„ä»¶ä»DOMæ ‘è¢«ç§»é™¤çš„è¿‡ç¨‹.
```



## 13. !! å¯¹ React çš„æ’æ§½(Portals) çš„ç†è§£, å¦‚ä½•ä½¿ç”¨, æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯.

```react
ğŸ => å®šä¹‰: Portal æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹çš„ä¼˜ç§€çš„æ–¹æ¡ˆ.
ğŸ« => ä½¿ç”¨: ReactDOM.createPortal(child, container);
        1. ç¬¬ä¸€ä¸ªå‚æ•° child æ˜¯å¯æ¸²æŸ“çš„ React å­é¡¹ï¼Œæ¯”å¦‚å…ƒç´ ï¼Œå­—ç¬¦ä¸²æˆ–è€…ç‰‡æ®µç­‰;
        2. ç¬¬äºŒä¸ªå‚æ•° container æ˜¯ä¸€ä¸ª DOM å…ƒç´ ã€‚
```

## 14. åœ¨ React ä¸­å¦‚ä½•é¿å…ä¸å¿…è¦çš„ render ?

```react
ğŸ’ => React åŸºäº"è™šæ‹Ÿ Dom" å’Œ é«˜æ•ˆçš„ "diffç®—æ³•"çš„å®Œç¾é…åˆ, å®ç°äº†å¯¹ DOM æœ€å°ç²’åº¦çš„æ›´æ–°.
	  å¤§å¤šæ•°æƒ…å†µä¸‹, Reactå¯¹ Dom çš„æ¸²æŸ“æ•ˆç‡è¶³ä»¥æ»¡è¶³æ—¥å¸¸ä¸šåŠ¡. ä½†åœ¨ä¸ªåˆ«å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ä¸‹,
      æ€§èƒ½é—®é¢˜ä¾ç„¶ä¼šå›°æ‰°æˆ‘ä»¬. æ­¤æ—¶éœ€è¦é‡‡å–ä¸€äº›æªæ–½æ¥æå‡æ€§èƒ½,å…¶å¾ˆé‡è¦çš„æ–¹å‘å°±æ˜¯é¿å…ä¸å¿…è¦çš„ "Render"
ğŸˆ => ä¼˜åŒ–æ–¹æ¡ˆ:
		1. shouldComponentUpdate å’Œ PureComponent
                => å¯ä»¥åˆ©ç”¨è¿™ä¸¤è€…æ¥ å‡å°‘å› ä¸ºçˆ¶ç»„ä»¶æ›´æ–°è€Œè§¦å‘çš„å­ç»„ä»¶ "render",ä»è€Œè¾¾åˆ°ç›®çš„.
                => shouldComponentUpdate é€šè¿‡æ¡ä»¶åˆ¤æ–­å¹¶ return false çš„æ–¹å¼é˜»æŒ¡éå¿…è¦æ›´æ–°.
                => PureComponent ä»¥æµ…å±‚å¯¹æ¯” prop å’Œ stateçš„æ–¹å¼æ¥å®ç° shouldComponentUpdate, 
                   å¦‚æœ React èµ‹äºˆç›¸åŒçš„ props å’Œ state," Renderä¼šæ¸²æŸ“ç›¸åŒçš„å†…å®¹ ",åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šæé«˜æ€§èƒ½.
		2. åˆ©ç”¨ "é«˜é˜¶ç»„ä»¶"
        		åœ¨å‡½æ•°ç»„ä»¶ä¸­ å¹¶æ²¡æœ‰ shouldComponentUpdateè¿™ä¸ªç”Ÿå‘½å‘¨æœŸ , å¯ä»¥åˆ©ç”¨é«˜é˜¶ç»„ä»¶, å°è£…ä¸€ä¸ªç±»ä¼¼ PureComponent çš„åŠŸèƒ½.
		3. ä½¿ç”¨ React.memo
				React.memo æ˜¯ React 16.6 æ–°çš„ä¸€ä¸ª API, ç”¨æ¥"ç¼“å­˜ç»„ä»¶"çš„æ¸²æŸ“, é¿å…ä¸å¿…è¦çš„æ›´æ–°, å…¶å®æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶, 
           		 ä¸ PureComponent ååˆ†ç›¸ä¼¼, ä½†ä¸åŒçš„æ˜¯ï¼Œ React.memoåªèƒ½ç”¨äº"å‡½æ•°ç»„ä»¶".
                 ğŸª => ç»„ä»¶åœ¨ç›¸åŒ propsä¸‹,æ¸²æŸ“ç›¸åŒçš„ç»“æœ(Reactè·³å‡ºæ¸²æŸ“æ“ä½œ,ç›´æ¥å¤ç”¨ä¸Šä¸€æ¬¡æ¸²æŸ“ç»“æœ).
                 ğŸ‘“ => React.memo ä»…æ£€æŸ¥ props å˜æ›´(Props ä¸å˜çš„æƒ…å†µä¸‹, æ— é¡»é‡æ–°æ¸²æŸ“, ç›´æ¥å¤ç”¨ä¸Šä¸€æ¬¡çš„æ¸²æŸ“ç»“æœ).
                 !!! å¦‚æœæƒ³æ§åˆ¶å¯¹æ¯”è¿‡ç¨‹, å¯ä»¥é€šè¿‡ "ç¬¬äºŒä¸ªå‚æ•°"å®šä¹‰æ¯”è¾ƒå‡½æ•°æ¥å®ç°.
```

## 15. ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆä¸åŒ?

```react
1. ç›¸åŒç‚¹:
	ç»„ä»¶æ˜¯ React å¯å¤ç”¨çš„æœ€å°ä»£ç ç‰‡æ®µ, ä»–ä»¬ä¼šè¿”å›é¡µé¢ä¸­æ¸²æŸ“çš„ React å…ƒç´ . æ‰€ä»¥æ— è®ºæ˜¯å‡½æ•°ç»„ä»¶è¿˜æ˜¯ç±»ç»„ä»¶åœ¨ "ä½¿ç”¨æ–¹å¼"å’Œ"æœ€ç»ˆå‘ˆç°æ•ˆæœ"å®Œå…¨ä¸€è‡´.
2. ä¸åŒç‚¹:
	1. å¼€å‘æ€æƒ³çš„ä¸åŒ => 
    		ç±»ç»„ä»¶æ˜¯åŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹çš„, ä¸»æ‰“ç»§æ‰¿ ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰æ ¸å¿ƒæ¦‚å¿µ.
			å‡½æ•°ç»„ä»¶å†…æ ¸æ˜¯å‡½æ•°å¼ç¼–ç¨‹
	2. æ€§èƒ½æ–¹é¢ => 
    		ç±»ç»„ä»¶ä¸»è¦ä¾é  shouldComponentUpdate é˜»æ–­æ¸²æŸ“æ¥æå‡æ€§èƒ½.
             å‡½æ•°ç»„ä»¶ä¾é  React.memo ç¼“å­˜æ¸²æŸ“ç»“æœæ¥æé«˜æ€§èƒ½.
	3. => ç±»ç»„ä»¶åœ¨æœªæ¥æ—¶é—´åˆ‡ç‰‡å’Œå¹¶å‘æ¨¡å¼ä¸­ ç”±äºå£°æ˜å‘¨æœŸå¸¦æ¥çš„å¤æ‚åº¦ å¹¶ä¸æ˜“ä¼˜åŒ–.
	   => å‡½æ•°ç»„ä»¶æœ¬èº«è½»é‡ ä¸”åœ¨ Hooks çš„åŸºç¡€ä¸Šæä¾›äº†æ¯”åŸå…ˆæ›´ç»†ç²’åº¦çš„é€»è¾‘ç»„ç»‡ä¸å¤ç”¨ï¼Œæ›´èƒ½é€‚åº” React çš„æœªæ¥å‘å±•ã€‚
	4. ä»ä¸Šæ‰‹ç¨‹åº¦è€Œè¨€ï¼Œç±»ç»„ä»¶æ›´å®¹æ˜“ä¸Šæ‰‹ï¼Œä»æœªæ¥è¶‹åŠ¿ä¸Šçœ‹ï¼Œç”±äºReact Hooks çš„æ¨å‡ºï¼Œå‡½æ•°ç»„ä»¶æˆäº†ç¤¾åŒºæœªæ¥ä¸»æ¨çš„æ–¹æ¡ˆã€‚		       
```

## 16. Reactä¸­ä»€ä¹ˆæ˜¯å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶

```react
1. å—æ§ç»„ä»¶
	ä½¿ç”¨çš„è¡¨å•å…ƒç´ , éƒ½æ˜¯é€šè¿‡ state å’Œ onChangeçš„æ–¹å¼ç”± React æ§åˆ¶.  =>  å½“è¡¨å•è¿‡å¤šæ—¶,éœ€è¦å®šä¹‰å¾ˆå¤šçš„ "å˜é‡"å’Œ"äº‹ä»¶å¤„ç†å‡½æ•°",ä»£ç å°†ä¼šå¾ˆè‡ƒè‚¿.
2. éå—æ§ç»„ä»¶
	å¦‚æœä¸€ä¸ªè¡¨å•ç»„ä»¶æ²¡æœ‰ value propsæ—¶ å°±å¯ä»¥ç§°ä¸ºéå—æ§ç»„ä»¶.
```

## 17. React ç»„ä»¶é€šä¿¡

```react
1. çˆ¶å­ç»„ä»¶é€šä¿¡
	ğŸˆçˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡: çˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’éœ€è¦çš„ä¿¡æ¯.
        // å­ç»„ä»¶: Child (propsæ¥æ”¶)
        const Child = props =>{
          return <p>{props.name}</p>
        }
        // çˆ¶ç»„ä»¶ Parent (ç»‘å®šå±æ€§)
        const Parent = ()=>{
            return <Child name="react"></Child>
        }
	ğŸˆå­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡: props + å›è°ƒçš„æ–¹å¼
        // å­ç»„ä»¶: Child
        const Child = props =>{
          const cb = msg =>{
              return ()=>{
                  props.callback(msg)
              }
          }
          return (
              <button onClick={cb("ä½ å¥½!")}>ä½ å¥½</button>
          )
        }
        // çˆ¶ç»„ä»¶ Parent
        class Parent extends Component {
            callback(msg){
                console.log(msg)
            }
            render(){
                return <Child callback={this.callback.bind(this)}></Child>    
            }
        }
2.  è·¨çº§ç»„ä»¶çš„é€šä¿¡æ–¹å¼
	ğŸˆçˆ¶ç»„ä»¶å‘å­™å­ç»„ä»¶é€šä¿¡
		1. ä½¿ç”¨ props, åˆ©ç”¨ä¸­é—´ç»„ä»¶å±‚å±‚ä¼ é€’.(å¢åŠ äº†å¤æ‚åº¦ä¸”ä¸­é—´å±‚ç»„ä»¶æ·»åŠ äº†è‡ªå·±ä¸éœ€è¦çš„ä¸œè¥¿ => ä¸å»ºè®®)
		2. ä½¿ç”¨ context, contextç›¸å½“äºä¸€ä¸ªå¤§å®¹å™¨, å¯ä»¥æŠŠé€šä¿¡çš„å†…å®¹æ”¾åœ¨å¤§å®¹å™¨é‡Œé¢, ä¸ç®¡åµŒå¥—å¤šæ·±éƒ½å¯ä»¥éšä¾¿å–ç”¨, å¯¹äºè·¨å¤šå±‚çš„å…¨å±€æ•°æ®å¯ä»¥ä½¿ç”¨ context.
            => ç±»ç»„ä»¶ const con = createContext() => <con.Provider value={}></con.Provider> => <con.Consumer></con.Consumer>
            => å‡½æ•°ç»„ä»¶ const con = createContext() => const useContext = useContext(con) => useContext valueå°±æ˜¯ç»‘å®šçš„æ•°æ®.
3. éåµŒå¥—å…³ç³»ç»„ä»¶é€šä¿¡.
    1. ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶é€šä¿¡. (å‘å¸ƒè®¢é˜…æ¨¡å¼)
    2. é€šè¿‡ Redux å…¨å±€çŠ¶æ€ç®¡ç†.
    3. å…„å¼Ÿç»„ä»¶ æ‰¾åˆ°å…¬å…±çˆ¶èŠ‚ç‚¹ ç»“åˆçˆ¶å­é€šä¿¡æ–¹å¼è¿›è¡Œé€šä¿¡.  
4. å¦‚ä½•è§£å†³ props åµŒå¥—è¿‡æ·±çš„é—®é¢˜
    1. ä½¿ç”¨ Context
    2. ä½¿ç”¨ Redux çŠ¶æ€åº“    
5. ç»„ä»¶é€šä¿¡æ–¹å¼æœ‰å“ªäº›?
    1. çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ => çˆ¶ç»„ä»¶ä¼ é€’ props
    2. å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ => çˆ¶ç»„ä»¶ä¼ é€’ props + å›è°ƒå‡½æ•°çš„å½¢å¼, ç”±å­ç»„ä»¶è°ƒç”¨å¹¶ä¼ é€’ä¿¡æ¯åˆ°çˆ¶ç»„ä»¶ä½œç”¨åŸŸä¸­.
    3. å…„å¼Ÿç»„ä»¶é€šä¿¡ => æ‰¾åˆ°å…±åŒçš„çˆ¶èŠ‚ç‚¹
    4. è·¨å±‚çº§é€šä¿¡ => Context
    5. å‘å¸ƒè®¢é˜…æ¨¡å¼ => å¼•â¼Ševentæ¨¡å—è¿›â¾é€šä¿¡
    6. å…¨å±€çŠ¶æ€ç®¡ç†â¼¯å…· => redux | mobx
```

## 18. Reactä¸­propsä¸ºä»€ä¹ˆæ˜¯åªè¯»çš„?

```react
ğŸˆ => 
    this.propsæ˜¯ç»„ä»¶ä¹‹é—´æ²Ÿé€šçš„ä¸€ä¸ªæ¥å£, åŸåˆ™ä¸Šè®², å®ƒåªèƒ½ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶.
    Reactå…·æœ‰æµ“é‡çš„"å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³":
        1. ç»™å®šç›¸åŒçš„è¾“å…¥,æ€»ä¼šè¿”å›ç›¸åŒçš„è¾“å‡º.
        2. è¿‡ç¨‹æ²¡æœ‰å‰¯ä½œç”¨
        3. ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€
	!!! æ‰€ä»¥ ä¿è¯this.propså°±ä¿è¯äº†è¾“å…¥æ˜¯ç›¸åŒçš„	        
```

## 19.  Reactä¸­æ€ä¹ˆæ£€éªŒpropsï¼ŸéªŒè¯propsçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ

```react
ğŸˆ Reactæä¾›äº† "PropTypes" ä»¥æä¾›éªŒè¯ä½¿ç”¨. å½“æˆ‘ä»¬å‘ Props ä¼ å…¥çš„æ•°æ®æ— æ•ˆå°±ä¼šåœ¨æ§åˆ¶å°å‘å‡ºè­¦å‘Š. => å®ƒå¯ä»¥é¿å…éšç€åº”ç”¨è¶Šæ¥è¶Šå¤æ‚ä»è€Œå‡ºç°çš„é—®é¢˜.
   !!! å½“ç„¶å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº† Typescript åˆ™å¯ä»¥ä¸ç”¨ PropTypesæ¥æ ¡éªŒ, è€Œæ˜¯ä½¿ç”¨ TS ä¸­çš„ InterfaceéªŒè¯.
```

## 20. Reactç»„ä»¶çš„propså’Œstateæœ‰ä»€ä¹ˆåŒºåˆ«?

```react
(1) props
	propsæ˜¯ä¸€ä¸ªä»å¤–éƒ¨ä¼ è¿›ç»„ä»¶çš„å‚æ•°, ä¸»è¦ä½œä¸ºå°±æ˜¯ä»çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå®ƒå…·æœ‰å¯è¯»æ€§å’Œä¸å˜æ€§
(2) state
    stateçš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºç»„ä»¶ä¿å­˜ã€æ§åˆ¶ä»¥åŠä¿®æ”¹è‡ªå·±çš„çŠ¶æ€ï¼Œå®ƒåªèƒ½åœ¨constructorä¸­åˆå§‹åŒ–ï¼Œå®ƒç®—æ˜¯ç»„ä»¶çš„ç§æœ‰å±æ€§ï¼Œ
    ä¸å¯é€šè¿‡å¤–éƒ¨è®¿é—®å’Œä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡ç»„ä»¶å†…éƒ¨çš„this.setStateæ¥ä¿®æ”¹ï¼Œä¿®æ”¹stateå±æ€§ä¼šå¯¼è‡´ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚
(3) åŒºåˆ«
    1. props æ˜¯ä¼ é€’ç»™ç»„ä»¶çš„ï¼ˆç±»ä¼¼äºå‡½æ•°çš„å½¢å‚ï¼‰ï¼Œè€Œstate æ˜¯åœ¨ç»„ä»¶å†…è¢«ç»„ä»¶è‡ªå·±ç®¡ç†çš„ï¼ˆç±»ä¼¼äºåœ¨ä¸€ä¸ªå‡½æ•°å†…å£°æ˜çš„å˜é‡ï¼‰ã€‚
    2. props æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œæ‰€æœ‰ React ç»„ä»¶éƒ½å¿…é¡»åƒçº¯å‡½æ•°ä¸€æ ·ä¿æŠ¤å®ƒä»¬çš„ props ä¸è¢«æ›´æ”¹ã€‚
    3. state æ˜¯åœ¨ç»„ä»¶ä¸­åˆ›å»ºçš„ï¼Œä¸€èˆ¬åœ¨ constructorä¸­åˆå§‹åŒ– stateã€‚state æ˜¯å¤šå˜çš„ã€å¯ä»¥ä¿®æ”¹ï¼Œæ¯æ¬¡setStateéƒ½å¼‚æ­¥æ›´æ–°çš„ã€‚
```

## 21. React.Component å’Œ React.PureComponent çš„åŒºåˆ«

```react
ğŸˆ => PureComponent æ˜¯ä¸€ä¸ªçº¯ç»„ä»¶, ç”¨æ¥"ä¼˜åŒ–"Reactç¨‹åº, å‡å°‘ renderå‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°, ä»è€Œæé«˜ç»„ä»¶æ€§èƒ½.
ğŸš— => åœ¨Reactä¸­, å½“ prop å’Œ stateå˜åŒ–æ—¶, å¯ä»¥é€šè¿‡åœ¨ "shouldComponentUpdate"å£°æ˜å‘¨æœŸå‡½æ•°ä¸­æ‰§è¡Œ return false æ¥é˜»æ­¢é¡µé¢æ›´æ–°,
      ä»è€Œå‡å°‘ä¸å¿…è¦çš„ render æ‰§è¡Œ. React.pureComponent ä¼šè‡ªåŠ¨æ‰§è¡Œ shouldComponentUpdate.
ğŸŒ° =>
      ä½¿ç”¨pureComponentçš„å¥½å¤„ï¼šå½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œå¦‚æœç»„ä»¶çš„propsæˆ–è€…stateéƒ½æ²¡æœ‰æ”¹å˜ï¼Œrenderå‡½æ•°å°±ä¸ä¼šè§¦å‘ã€‚
	  çœå»è™šæ‹ŸDOMçš„ç”Ÿæˆå’Œå¯¹æ¯”è¿‡ç¨‹ï¼Œè¾¾åˆ°æå‡æ€§èƒ½çš„ç›®çš„ã€‚è¿™æ˜¯å› ä¸ºreactè‡ªåŠ¨åšäº†ä¸€å±‚"æµ…æ¯”è¾ƒ"ã€‚
```

